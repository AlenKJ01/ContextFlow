<!-- Save as screenshots/architecture.svg -->
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="720" viewBox="0 0 1200 720">
  <defs>
    <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0" stop-color="#6d28d9"/>
      <stop offset="1" stop-color="#4f46e5"/>
    </linearGradient>
    <style><![CDATA[
      .title { font: 700 20px 'Plus Jakarta Sans', Inter, sans-serif; fill:#0f172a; }
      .label { font: 600 14px 'Plus Jakarta Sans', Inter, sans-serif; fill:#0f172a; }
      .box { fill: #ffffffcc; stroke:#e6e9ef; rx:14; ry:14; }
      .small { font:400 12px 'Plus Jakarta Sans', Inter, sans-serif; fill:#374151; }
      .accent { fill: url(#g1); }
      .shadow { filter: url(#f1); }
    ]]></style>
    <filter id="f1" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="8" result="b"/>
      <feOffset dx="0" dy="8" />
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.12"/>
      </feComponentTransfer>
      <feBlend in="SourceGraphic"/>
    </filter>
  </defs>

  <!-- Header bar -->
  <rect x="28" y="18" width="1144" height="70" rx="12" fill="url(#g1)"/>
  <text x="48" y="58" class="title" fill="#fff">ContextFlow — System Architecture</text>

  <!-- Frontend -->
  <g transform="translate(60,120)">
    <rect class="box shadow" width="220" height="110" />
    <text x="18" y="28" class="label">Frontend UI</text>
    <text x="18" y="54" class="small">HTML • CSS • Vanilla JS</text>
    <text x="18" y="74" class="small">Single-page interface</text>
  </g>

  <!-- Flask -->
  <g transform="translate(320,120)">
    <rect class="box shadow" width="260" height="130" />
    <text x="18" y="28" class="label">Flask API</text>
    <text x="18" y="54" class="small">/memory/extract • /personality/transform</text>
    <text x="18" y="74" class="small">routes, extractor, engine, services</text>
  </g>

  <!-- Gemini block -->
  <g transform="translate(640,60)">
    <rect class="box shadow" width="240" height="80" />
    <text x="18" y="38" class="label">Gemini (Flash-Lite)</text>
    <text x="18" y="58" class="small">LLM: generate + rewrite</text>
  </g>

  <!-- ChromaDB -->
  <g transform="translate(320,280)">
    <rect class="box shadow" width="220" height="110" />
    <text x="18" y="28" class="label">ChromaDB</text>
    <text x="18" y="54" class="small">Vector store — preferences & patterns</text>
  </g>

  <!-- SQLite -->
  <g transform="translate(640,280)">
    <rect class="box shadow" width="220" height="110" />
    <text x="18" y="28" class="label">SQLite</text>
    <text x="18" y="54" class="small">facts.db — extracted facts</text>
  </g>

  <!-- arrows -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#374151"/>
    </marker>
  </defs>

  <!-- connections -->
  <path d="M280 170 L320 170" stroke="#374151" stroke-width="2" marker-end="url(#arrow)" fill="none"/>
  <path d="M580 184 L640 100" stroke="#374151" stroke-width="2" marker-end="url(#arrow)" fill="none"/>
  <path d="M580 260 L540 320" stroke="#374151" stroke-width="2" marker-end="url(#arrow)" fill="none"/>
  <path d="M760 260 L720 320" stroke="#374151" stroke-width="2" marker-end="url(#arrow)" fill="none"/>

  <!-- footer note -->
  <text x="48" y="680" class="small">Diagram: frontend → Flask → Gemini; storage: ChromaDB (vectors) & SQLite (facts).</text>
</svg>
